import { Note, Tip, Warning } from "@/components/Advice";

# Comment Directives

The comment directives are single-line comments that serve as inline configuration for the test runner.

<Note>

This feature is available since [TSTyche 4.0](../releases/tstyche-4.mdx).

</Note>

## Usage

Only a single-line comment is considered to be a directive if its text starts with `@tstyche` namespace followed by the directive keyword. Arguments must be provided if a directive requires them. Optionally, a note can be added after two or more hyphens.

## Directives

The scope of a directive can be:

- the whole test file (when used at the top of the file),
- or test APIs (only affects `expect()`, `test()` and `describe()` in the next line after the comment),
- or both of the above.

<Warning>

When a comment directive is used in the wrong scope, it holds no special meaning.

</Warning>

### `// @tstyche template`

- Scope: the whole file only

Marks a test file as a template. When the directive is found, the default export of a file is interpreted as a type test text.

For example, the following:

```ts
// @tstyche template -- For documentation, see: https://tstyche.org/guide/template-test-files

let testText = `import { expect, test } from "tstyche";
`;

for (const source of ["string", "number"]) {
  testText += `test("is ${source} a string?", () => {
  expect<${source}>().type.toBe<string>();
});
`;
}

export default testText;
```

is interpreted as:

```ts
import { expect, test } from "tstyche";
test("is string a string?", () => {
  expect<string>().type.toBe<string>();
});
test("is number a string?", () => {
  expect<number>().type.toBe<string>();
});
```

To learn more, see the [Template Test Files](../guide/template-test-files.mdx) page.
