import { Tabs } from "nextra/components";
import { Note, Tip, Warning } from "@/components/Advice";

# Release Notes

This page lists breaking changes and notable new features. Please be sure to read the release notes before upgrading from previous version.

<Note>

The detailed changelog can be found in [TSTyche repository on GitHub](https://github.com/tstyche/tstyche/blob/main/CHANGELOG.md).

</Note>

## TSTyche 6.0  [#tstyche-6-0]

TSTyche 6.0 ships with a major rewrite of the `.toBe()` matcher. The new implementation compares types by checking their structure. Previously, the internal `.isTypeIdenticalTo()` method of the type checker was used, but that solution will not work with TypeScript 7.

The rewrite makes sure TSTyche will be able to support TypeScript 7 in the future (for more details, see: [#443](https://github.com/tstyche/tstyche/issues/443)).

The new implementation also brings in several improvements to the matcher. For instance, now it considers the following types as identical:

- `{ a: string } & { b: number }`, `{ b: number } & { a: string }` and `{ a: string; b: number }`
- `((a: string) => string) & ((b: number) => number)` and `{ (a: string): string; (b: number): number }`

The above works with any complexity and at any depth. This is really exciting!

The new implementation is enabled by default. Overall, it does a great job, but there might be some gaps. Use the [`legacyToBe`](#legacy-to-be) option to switch back to the legacy patch-based implementation.

<Warning>

Keep in mind that TSTyche 6.0 is still in beta. More breaking changes may be introduced before the stable version is released. To install the latest beta version, use the `next` distribution tag:

<Tabs items={["npm", "yarn", "pnpm"]} storageKey={"preferredPackageManager"}>
<Tabs.Tab>

```shell
npm add -D tstyche@next
```

</Tabs.Tab>
<Tabs.Tab>

```shell
yarn add -D tstyche@next
```

</Tabs.Tab>
<Tabs.Tab>

```shell
pnpm add -D tstyche@next
```

</Tabs.Tab>
</Tabs>

</Warning>

### TypeScript Versions

<Warning>

**Breaking!** Support for TypeScript `<=5.3` is dropped.

</Warning>

### Configuration

#### `legacyToBe` [#legacy-to-be]

Use the legacy patch-based implementation of the `.toBe()` matcher.
