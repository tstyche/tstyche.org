import { Tabs } from "nextra/components";
import { Note, Tip, Warning } from "@/components/Advice";

# Release Notes

This page lists breaking changes and notable new features. Please be sure to read the release notes before upgrading from previous version.

<Note>

The detailed changelog can be found in [TSTyche repository on GitHub](https://github.com/tstyche/tstyche/blob/main/CHANGELOG.md).

</Note>

## TSTyche 6.0  [#tstyche-6-0]

TSTyche 6.0 ships with a major rewrite of the `.toBe()` matcher. The new implementation compares types by checking their structure. Previously, the internal `.isTypeIdenticalTo()` method of the type checker was used, but that approach will not work with TypeScript 7. The rewrite ensures TSTyche can support TypeScript 7 in the future (to follow updates, subscribe to issue [#443](https://github.com/tstyche/tstyche/issues/443)).

<Warning>

Keep in mind that TSTyche 6.0 is still in beta. More breaking changes may be introduced before the stable version is released. To install the latest beta version, use the `next` distribution tag:

<Tabs items={["npm", "yarn", "pnpm"]} storageKey={"preferredPackageManager"}>
<Tabs.Tab>

```shell
npm add -D tstyche@next
```

</Tabs.Tab>
<Tabs.Tab>

```shell
yarn add -D tstyche@next
```

</Tabs.Tab>
<Tabs.Tab>

```shell
pnpm add -D tstyche@next
```

</Tabs.Tab>
</Tabs>

</Warning>

### TypeScript Versions

<Warning>

**Breaking!** The minimum supported TypeScript version is `5.4`. Support for TypeScript `<=5.3` is dropped.

</Warning>

### Matchers

#### `.toBe()` [#to-be]

The new implementation of `.toBe()` brings several improvements to the matcher. It considers the following types as identical:

- `{ a: string } & { b: number }` and `{ a: string; b: number }`;
- `((a: string) => string) & ((b: number) => number)` and `{ (a: string): string; (b: number): number }`.

Previously ignored, the `this` parameter and the `const` type parameter modifier are now taken into account:

- `(this: unknown) => void` is not `() => void`;
- `<const T>(arg: T) => T` is not `<T>(arg: T) => T`.

<Tip>

All of the above works with any complexity and at any depth.

</Tip>
