import { Prologue } from "@/components/Prologue";
import { Cards } from "nextra/components";

<Prologue />

## Helpers

If you are used to testing, a type test should look familiar:

```ts twoslash
import { expect, test } from "tstyche";

function isSameLength<T extends { length: number }>(a: T, b: T) {
  return a.length === b.length;
}

test("isSameLength", () => {
  expect(isSameLength([1, 2], [1, 2, 3])).type.toBe<boolean>();
  expect(isSameLength("one", "two")).type.toBe<boolean>();

  expect(isSameLength).type.not.toBeCallableWith(1, 2);
});
```

To group and organize tests, TSTyche has:

- `test()`, `it()` and `describe()` helpers,
- with `.only`, `.skip` and `.todo` run mode flags.

## Assertions

The `expect` style assertions can check either the inferred type of an expression (as in the example above) or a type directly:

```ts twoslash
import { expect } from "tstyche";

type AsyncProps<T> = {
  [K in keyof T]+?: Promise<T[K]> | T[K];
};

type WithLoading<T> = T & { loading: boolean };

expect<WithLoading<AsyncProps<{ id: string }>>>().type.toBe<{
  id?: Promise<string> | string;
  loading: boolean;
}>();
```

Here is the list of all matchers:

- `.toBe()`, `.toBeAssignableFrom()`, `.toBeAssignableTo()` compare types or types of expressions,
- `.toAcceptProps()` checks the type of JSX component props,
- `.toBeApplicable` ensures that the decorator function can be applied,
- `.toBeCallableWith()` checks whether a function is callable with the given arguments,
- `.toBeConstructableWith()` checks whether a class is constructable with the given arguments,
- `.toHaveProperty()` looks up keys on an object type.

## Runner

The `tstyche` command is the heart of TSTyche. It allows you to select test files by path, filter tests by name and run them against specific versions of TypeScript:

```shell
tstyche query-params --only multiple --target '>=5.6'
```

It is that simple! Actually, TSTyche does even more:

- checks messages of errors suppressed by `// @ts-expect-error`,
- generates type tests from a data table,
- runs tests in watch mode.

## Try It Out

Try TSTyche online on StackBlitz:

[![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://tstyche.org/new)
